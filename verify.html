<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @tailwind base;
        @tailwind components;
        @tailwind utilities;
    </style>
</head>
<body class="bg-gradient-to-r from-cyan-400 to-sky-400 min-h-screen flex items-center justify-center">
    <div class="hidden md:flex w-2/3 items-center justify-center">
        <div class="bg-white rounded-lg w-2/3 p-6">
            <div class="flex justify-center mb-4">
                <img src="/images/image2.svg" alt="My SVG" width="100" height="100" />
            </div>
            <div class="flex justify-center mb-4">
                <img src="/images/image2.png" alt="Image" width="500" height="250" />
            </div>
            <div class="flex items-center justify-center mb-2">
                <svg width="36" height="46" viewBox="0 0 36 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 23C9.94113 23 18 12.7025 18 0C18 12.7025 26.0589 23 36 23C26.0589 23 18 33.2975 18 46C18 33.2975 9.94113 23 0 23Z" fill="#02A7CC" />
                </svg>
                <div class="font-extrabold text-slate-900 text-4xl ml-2">Hello, Igniculuss</div>
                <img src="/images/hand.png" alt="Hand" width="50" height="50" class="ml-2" />
            </div>
            <div class="text-center text-base leading-6 text-slate-500 mb-10">
                Skip repetitive and manual sales-marketing tasks. Get highly productive through automation and save tons of time!
            </div>
        </div>
    </div>

    <div class="w-full lg:w-1/3 min-h-screen flex items-center bg-white justify-center py-6 ">
        <div class=" w-2/3 max-w-container ">
          <a href="" class="mt-12 flex items-center gap-1">
            <svg
              width="32"
              height="40"
              viewBox="0 0 32 40"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 20C8.83656 20 16 11.0457 16 0C16 11.0457 23.1634 20 32 20C23.1634 20 16 28.9543 16 40C16 28.9543 8.83656 20 0 20Z"
                fill="#282828"
              />
            </svg>
            <span class="text-slate-950 font-bold text-2xl py-6">
              Verify Your Sign-up
            </span>
          </a>
          <div class="text-slate-800 text-sm">
            Enter the one-time password sent to your Email ID.
          </div>
          <div class="mx-auto">
             <form  class="grid space-y-6" id="myForm"> 
              <div class="flex justify-end py-2">
                <div class="text-right text-cyan-600 no-underline">
                  <Link href="/change"> Change</Link>
                </div>
              </div>
              <input
                type="otp" 
                required
                class="h-10 rounded-md px-3  border text-xs focus:outline-none"
                style="margin: 0; border: '1px solid #D5D5D5'"
                placeholder="XXX XXX"
                maxLength={6}
                id="otp"
              />
              <div class="flex justify-between m-0 pb-12">
                <div
                  class="text-left text-slate-950 cursor-pointer "
                  id="resendButton" 
                  >
                
                  Resend
                </div>

                <a>

                  <div class="text-right text-cyan-600 no-underline">
                    Choose Other Way
                  </div>
                </a>
              </div>

              <button
                class="h-11 w-full font-medium bg-cyan-400 hover:bg-cyan-500 text-gray-100 text-base rounded-md"
                type="submit" >   
              
                Verify
              </button>
              <div class="text-center text-sm pb-12 font-medium text-gray-600">
               
              </div>
            </form>
          </div>
        </div>
      </div>


      <script>

        document.getElementById('myForm').addEventListener('submit', function (event){
          event.preventDefault();

          const formValues = {
            emailid: "vogoh58286@nolanzip.com",
           otp:  document.getElementById('otp').value        
           };

          console.log('Form Values:', formValues);
          
          fetch('https://stratagem.igniculuss.com/api/Users/verify/otp', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify(formValues)
          })
          .then(response => response.json())
          .then(data => {
              console.log('Success:', data);
              if(data.status == 200) {
              alert(data.message)
              }else 
              alert("Please write valid OTP")
          })
          .catch((error) => {
              console.error('Error:', error);
          });
        });

      document.getElementById("resendButton").addEventListener("click", function(event) {
        event.preventDefault();
        console.log("Resend button clicked");

    // URL of the API endpoint
    const apiUrl = "https://stratagem.igniculuss.com/api/Users/send/otp";
    const email = 'vogoh58286@nolanzip.com'
    // const email = document.getElementById("email").value;


    // Options for the fetch request
    const options = {
        method: "POST", 
        headers: {
            "Content-Type": "application/json" 
        },
        body: JSON.stringify({
            email: email
        })
    };

    // Make the API call
    fetch(apiUrl, options)
        .then(response => response.json())
        .then(data => {
            console.log("Success:", data);
        })
        .catch(error => {
            console.error("Error:", error);
        });
});
      </script>
</body>
</html>
